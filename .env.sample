# GitHub Release Digest - Environment Configuration Sample
# Copy this file to .env and fill in your actual values

# =============================================================================
# REQUIRED ENVIRONMENT VARIABLES
# =============================================================================

# GitHub Personal Access Token with repository read permissions
# Create at: https://github.com/settings/tokens
TOKEN_GITHUB=github_pat_your_token_here

# Slack Incoming Webhook URL for posting messages
# Create at: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# GitHub organization name to monitor
ORG_NAME=your-organization-name

# =============================================================================
# AI SUMMARIZATION (OPTIONAL)
# =============================================================================

# OpenRouter API key for AI summarization (fallback provider)
# Get at: https://openrouter.ai/
OPENROUTER_API_KEY=your_openrouter_api_key_here
AI_MODEL=claude-3-5-sonnet-20241022

# Anthropic API key for AI summarization (primary provider)
# Get at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-your_anthropic_key_here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# =============================================================================
# SNOWFLAKE DATA WAREHOUSE (OPTIONAL)
# =============================================================================

# Option 1: JSON Configuration (recommended for GitHub Actions)
# All Snowflake connection details in a single JSON variable
SNOWFLAKE_CONFIG={"account":"your-account","username":"your-username","password":"your-password","database":"your-database","schema":"your-schema","warehouse":"your-warehouse","role":"your-role","authenticator":"snowflake"}

# Option 2: Individual Variables (recommended for local development)
# Individual Snowflake connection parameters (takes precedence over JSON config)
SNOWFLAKE_ACCOUNT=your-account.snowflakecomputing.com
SNOWFLAKE_USERNAME=your-username
SNOWFLAKE_PASSWORD=your-password
SNOWFLAKE_PRIVATE_KEY=your-private-key-content-for-future-use
SNOWFLAKE_DATABASE=your-database
SNOWFLAKE_SCHEMA=your-schema
SNOWFLAKE_WAREHOUSE=your-warehouse
SNOWFLAKE_ROLE=your-role
SNOWFLAKE_AUTHENTICATOR=snowflake

# =============================================================================
# OPTIONAL ENVIRONMENT VARIABLES
# =============================================================================

# Environment mode (development|production)
NODE_ENV=development

# Logging level (debug|info|warn|error)
LOG_LEVEL=info

# =============================================================================
# TIMEFRAME CONFIGURATION
# =============================================================================

# Hours to look back for releases (default: 24)
# Only one timeframe variable should be set at a time
HOURS_BACK=24

# Days to look back for releases (default: 7)
# Only one timeframe variable should be set at a time
DAYS_BACK=7

# Specific date for releases (YYYY-MM-DD format)
# Only one timeframe variable should be set at a time
TARGET_DATE=2024-01-15

# Date range configuration (both required if using)
# START_DATE and END_DATE override other timeframe settings
START_DATE=2024-01-10
END_DATE=2024-01-15

# =============================================================================
# REPOSITORY FILTERING
# =============================================================================

# Comma-separated list of specific repositories to monitor
# Leave empty to monitor all repositories in the organization
REPOSITORIES=repo1,repo2,repo3

# =============================================================================
# CONTENT OPTIONS
# =============================================================================

# Include detailed descriptions with AI summaries (true|false)
# Default: false (summary table only when not specified)
INCLUDE_DESCRIPTIONS=true

# =============================================================================
# NOTES
# =============================================================================

# 1. Required variables: TOKEN_GITHUB, SLACK_WEBHOOK_URL, ORG_NAME
# 2. AI summarization requires at least one of: ANTHROPIC_API_KEY or OPENROUTER_API_KEY
# 3. Snowflake integration is optional - falls back to GitHub API if not configured
# 4. Individual Snowflake env vars take precedence over SNOWFLAKE_CONFIG JSON
# 5. Only set ONE timeframe variable at a time:
#    - HOURS_BACK (e.g., 24 for last 24 hours)
#    - DAYS_BACK (e.g., 7 for last 7 days)
#    - TARGET_DATE (e.g., 2024-01-15 for specific date)
#    - START_DATE + END_DATE (e.g., date range)

# 6. REPOSITORIES can be:
#    - Empty: Monitor all repositories
#    - Single repo: "my-repo"
#    - Multiple repos: "repo1,repo2,repo3"

# 7. INCLUDE_DESCRIPTIONS controls output format:
#    - true: Summary header + table + detailed descriptions
#    - false: Summary header + table only

# 8. CLI arguments override environment variables:
#    - --hours, --days, --date override timeframe
#    - --repo, --repos override REPOSITORIES
#    - --include-descriptions overrides INCLUDE_DESCRIPTIONS

# 9. For GitHub Actions, use SNOWFLAKE_CONFIG (JSON) instead of individual variables
